{% extends 'base.html' %}
{% block content %}
<div class="main-card mx-auto" style="max-width: 700px;">
    <h3 class="mb-4 text-center">Configuração do Quiz "{{ quiz.title }}"</h3>
    <form method="post" class="d-grid gap-3">
        {% csrf_token %}
        {% if not show_questions_setup %}
            <div>
                <label class="form-label" for="num_questions">Número de perguntas:</label>
                <input type="number" min="1" max="20" name="num_questions" id="num_questions" class="form-control border-custom" value="1" required>
            </div>
            <div>
                <label class="form-label" for="num_results">Número de resultados:</label>
                <input type="number" min="2" max="10" name="num_results" id="num_results" class="form-control border-custom" value="2" required>
            </div>
            <button type="submit" name="set_questions" class="btn btn-login w-100">Continuar</button>
        {% else %}
            <input type="hidden" name="num_questions" value="{{ num_questions }}">
            <input type="hidden" name="num_results" value="{{ num_results }}">
            {% for q_idx in question_range %}
                <div class="border-custom p-3 mb-2">
                    <label class="form-label">Pergunta {{ forloop.counter }}</label>
                    <div class="mb-2">
                        <label for="q{{ q_idx }}_num_options">Opções:</label>
                        <input type="number" min="2" max="8" name="q{{ q_idx }}_num_options" id="q{{ q_idx }}_num_options" class="form-control border-custom" value="2" required>
                    </div>
                    <div>
                        <label for="q{{ q_idx }}_options_have_images">Opções com imagem?</label>
                        <select name="q{{ q_idx }}_options_have_images" id="q{{ q_idx }}_options_have_images" class="form-select border-custom">
                            <option value="no">Não</option>
                            <option value="yes">Sim</option>
                        </select>
                    </div>
                </div>
            {% endfor %}
            <button type="submit" class="btn btn-login w-100">Avançar</button>
        {% endif %}
    </form>
</div>
{% endblock %}
            </fieldset>
        {% endfor %}

        <button type="submit">Continue to Results</button>
    {% endif %}
</form>

{% endblock %}
