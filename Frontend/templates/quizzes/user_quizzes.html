{% extends 'base_quiz.html' %}
{% load static %}

{% block title %}Meus Quizzes - Quiz4Fun{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    {{ block.super }}
{% endblock %}

{% block quiz_content %}
<h2>Meus Quizzes</h2>
<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
    {% for quiz in quizzes %}
        <div style="border: 1px solid #ddd; border-radius: 10px; padding: 15px; background: #f9f9f9;">
            {% if quiz.quiz_main_picture %}
                <img src="{{ quiz.quiz_main_picture.url }}" alt="{{ quiz.title }}" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 10px;">
            {% endif %}
            <h3>{{ quiz.title }}</h3>
            <p>{{ quiz.description|truncatewords:25 }}</p>

            <div style="margin-top: 10px;">
                <a href="{% url 'quizzes:take_quiz' quiz.id %}" 
                   style="display: inline-block; padding: 8px 12px; background: #007bff; color: white; border-radius: 5px; text-decoration: none;">
                   Fazer Quiz
                </a>

                <!-- Delete button -->
                <form method="post" action="{% url 'quizzes:delete_quiz' quiz.id %}" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" 
                            style="padding: 8px 12px; background: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer;"
                            onclick="return confirm('Tem certeza que deseja deletar este quiz?');">
                        Deletar
                    </button>
                </form>
            </div>
        </div>
    {% empty %}
        <p>Você ainda não criou nenhum quiz.</p>
    {% endfor %}
</div>
{% endblock %}
